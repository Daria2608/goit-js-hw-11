{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst loader = document.querySelector('.loader-span')\nloader.style.display = 'none';\n\n\nconst KEY = '42597996-b1dc9edd2aa87e1c7d2b2d72b';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\nlet QUERY = '';\nlet LINK = `${BASE_URL}?key=${KEY}&q=${QUERY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`;\n\n// генеруємо посилання\n\nexport function makeLink(QUERY) {\n    LINK = `${BASE_URL}?key=${KEY}&q=${QUERY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`;\n    return LINK;\n}\n\nexport function makeRequest() {\n    loader.style.display = 'block'\n    return fetch(LINK)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`Error! Status: ${response.status}`);\n            }\n            return response.json()\n        })\n    .catch(error => {alert('Error')}).finally(() => {loader.style.display = 'none'})\n}","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom'\n});\n\nconst searchBtn = document.querySelector('button');\nconst searchInput = document.querySelector('input');\nconst searchForm = document.querySelector('form');\nlet imagesCollection = document.querySelector('.images');\nconst loader = document.querySelector('.loader-span')\nloader.style.display = 'none';\n\nimport { makeRequest } from \"./pixabay-api\";\n\nexport function createCard() {\n    makeRequest().then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                timeout: 3000,\n                position: 'topRight',\n                message:\n                    'Sorry, there are no images matching your search query. Please try again!',\n            });\n        }\n        else {\n            const images = data.hits;\n            imagesCollection.innerHTML = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n                return `<div class=\"items\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        </a>\n        <div class=\"info-gallery\">\n        <p class=\"gallery-description\">\n        <span class=\"gallery-description-span\">Likes: \n        <span class=\"span\">${likes}</span>\n        </span>\n        </p>\n        <p class=\"gallery-description\">\n        <span class=\"gallery-description-span\">Views: <span class=\"span\">${views}</span>\n        </span>    \n        </p>\n        <p class=\"gallery-description\">\n        <span class=\"gallery-description-span\">Comments: <span class=\"span\">${comments}</span>\n        </span>    \n        </p>\n        <p class=\"gallery-description\">\n        <span class=\"gallery-description-span\">Downloads: <span class=\"span\">${downloads}</span>\n        </span>    \n        </p></div></div>`\n            })\n                .join('')\n      \n        }\n     lightbox.refresh(); }\n)\n} \n","\nimport { makeLink } from \"./js/pixabay-api\";\nimport { createCard } from \"./js/render-functions\";\nimport { makeRequest } from \"./js/pixabay-api\";\n\n\n// Для роботи з піксабей \n\nconst KEY = '42597996-b1dc9edd2aa87e1c7d2b2d72b';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\nlet QUERY = '';\nlet LINK = `${BASE_URL}?key=${KEY}&q=${QUERY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`;\n\n\n// витягуємо елементи \nconst searchBtn = document.querySelector('button');\nconst searchInput = document.querySelector('input');\nconst searchForm = document.querySelector('form');\nlet imagesCollection = document.querySelector('.images');\nconst loader = document.querySelector('.loader-span')\nloader.style.display = 'none';\n\n//вішаємо слухача на подію сабміт\n\nsearchForm.addEventListener('submit', getLink);\n\nfunction getLink(event) {\n    imagesCollection.innerHTML = '';\n     event.preventDefault();\n     //отримуємо значення для пошуку від користувача\n    QUERY = searchInput.value.trim();\n    // перевіряємо, чи користувач щось ввів \n    if (QUERY !== \"\")  {\n        //викликаємо функцію генерації і повертаємо посилання\n        LINK = makeLink(QUERY);\n        //даємо згенероване посилання на сервер \n        makeRequest(LINK)\n        //викликаємо функцію формування карток\n        createCard()\n    }\n    searchForm.reset();\n}\n\n\n\n\n\n"],"names":["loader","KEY","BASE_URL","IMAGE_TYPE","ORIENTATION","SAFESEARCH","QUERY","LINK","makeLink","makeRequest","response","error","lightbox","SimpleLightbox","imagesCollection","createCard","data","iziToast","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchInput","searchForm","getLink","event"],"mappings":"wvBACA,MAAMA,EAAS,SAAS,cAAc,cAAc,EACpDA,EAAO,MAAM,QAAU,OAGvB,MAAMC,EAAM,qCACNC,EAAW,2BACXC,EAAa,QACbC,EAAc,aACdC,EAAa,OACnB,IAAIC,EAAQ,GACRC,EAAO,GAAGL,CAAQ,QAAQD,CAAG,MAAMK,CAAK,eAAeH,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,GAIlH,SAASG,EAASF,EAAO,CAC5B,OAAAC,EAAO,GAAGL,CAAQ,QAAQD,CAAG,MAAMK,CAAK,eAAeH,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,GAC9GE,CACX,CAEO,SAASE,GAAc,CAC1BT,OAAAA,EAAO,MAAM,QAAU,QAChB,MAAMO,CAAI,EACZ,KAAKG,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,kBAAkBA,EAAS,MAAM,EAAE,EAEvD,OAAOA,EAAS,KAAM,CAClC,CAAS,EACJ,MAAMC,GAAS,CAAC,MAAM,OAAO,CAAC,CAAC,EAAE,QAAQ,IAAM,CAACX,EAAO,MAAM,QAAU,MAAM,CAAC,CACnF,CCvBA,MAAMY,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EAEiB,SAAS,cAAc,QAAQ,EAC7B,SAAS,cAAc,OAAO,EAC/B,SAAS,cAAc,MAAM,EAChD,IAAIC,EAAmB,SAAS,cAAc,SAAS,EACvD,MAAMd,EAAS,SAAS,cAAc,cAAc,EACpDA,EAAO,MAAM,QAAU,OAIhB,SAASe,GAAa,CACzBN,EAAa,EAAC,KAAKO,GAAQ,CACvB,GAAIA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,QAAS,IACT,SAAU,WACV,QACI,0EACpB,CAAa,MAEA,CACD,MAAMC,EAASF,EAAK,KACpBF,EAAiB,UAAYI,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACpG;AAAA,wCACiBL,CAAa;AAAA,oBACjCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKjBC,CAAK;AAAA;AAAA;AAAA;AAAA,2EAIyCC,CAAK;AAAA;AAAA;AAAA;AAAA,8EAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,+EAIPC,CAAS;AAAA;AAAA,yBAG3E,EACI,KAAK,EAAE,CAEf,CACJb,EAAS,QAAO,CAAK,CAC1B,CACA,CClDA,IAAIN,EAAQ,GAKM,SAAS,cAAc,QAAQ,EACjD,MAAMoB,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAa,SAAS,cAAc,MAAM,EAChD,IAAIb,EAAmB,SAAS,cAAc,SAAS,EACvD,MAAMd,EAAS,SAAS,cAAc,cAAc,EACpDA,EAAO,MAAM,QAAU,OAIvB2B,EAAW,iBAAiB,SAAUC,CAAO,EAE7C,SAASA,EAAQC,EAAO,CACpBf,EAAiB,UAAY,GAC5Be,EAAM,eAAc,EAErBvB,EAAQoB,EAAY,MAAM,OAEtBpB,IAAU,KAEHE,EAASF,CAAK,EAErBG,EAAgB,EAEhBM,EAAY,GAEhBY,EAAW,MAAK,CACpB"}